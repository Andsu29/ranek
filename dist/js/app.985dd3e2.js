(function(){"use strict";var t={6775:function(t,o,r){var e=r(144),a=function(){var t=this,o=t._self._c;return o("div",{attrs:{id:"app"}},[o("TheHeader"),o("main",{attrs:{id:"main"}},[o("transition",{attrs:{mode:"out-in"}},[o("router-view")],1)],1),o("TheFooter")],1)},s=[],n=function(){var t=this,o=t._self._c;return o("header",[o("nav",[o("router-link",{staticClass:"logo",attrs:{to:"/"}},[o("img",{attrs:{src:r(8699),alt:"Ranek"}})]),t.$store.state.login?o("router-link",{staticClass:"btn",attrs:{to:"/usuario"}},[t._v(" "+t._s(t.nome)+" ")]):o("router-link",{staticClass:"btn",attrs:{to:"/login"}},[t._v("Vender / Login")])],1)])},i=[],u={name:"TheHeader",computed:{nome(){return this.$store.state.usuario.nome.replace(/ .*/,"")}}},l=u,d=r(1001),c=(0,d.Z)(l,n,i,!1,null,"8c0b271c",null),p=c.exports,m=function(){var t=this;t._self._c;return t._m(0)},h=[function(){var t=this,o=t._self._c;return o("footer",[o("p",[t._v("Ranek. Alguns direitos reservados")])])}],v={name:"TheFooter"},f=v,g=(0,d.Z)(f,m,h,!1,null,"0d088d64",null),_=g.exports,P=r(6154);const b="http://localhost/ranekpress/wp-json",C=P.Z.create({baseURL:b+"/api"});C.interceptors.request.use((function(t){const o=window.localStorage.token;return o&&(t.headers.Authorization=o),t}),(function(t){return Promise.reject(t)}));const w={get(t){return C.get(t)},post(t,o){return C.post(t,o)},put(t,o){return C.put(t,o)},delete(t){return C.delete(t)},login(t){return P.Z.post(b+"/jwt-auth/v1/token",t)},validateToken(){return C.post(b+"/jwt-auth/v1/token/validate")}};function U(t){return P.Z.get(`https://viacep.com.br/ws/${t}/json/`)}var y={components:{TheHeader:p,TheFooter:_},created(){window.localStorage.token&&w.validateToken().then((()=>{this.$store.dispatch("getUsuario")})).catch((()=>{window.localStorage.removeItem("token")}))}},k=y,x=(0,d.Z)(k,a,s,!1,null,null,null),$=x.exports,T=r(8345),Z=function(){var t=this,o=t._self._c;return o("section",[o("h1",[t._v("üöÄ Compre ou Venda üí∏")]),o("produtos-buscar-vue"),o("produtos-lista-vue")],1)},N=[],A=function(){var t=this,o=t._self._c;return o("form",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.busca,expression:"busca"}],attrs:{name:"busca",id:"busca",type:"text",placeholder:"Buscar..."},domProps:{value:t.busca},on:{input:function(o){o.target.composing||(t.busca=o.target.value)}}}),o("input",{attrs:{type:"submit",id:"lupa",value:"Buscar"},on:{click:function(o){return o.preventDefault(),t.buscarProdutos.apply(null,arguments)}}})])},D=[],O=(r(7658),{data(){return{busca:""}},methods:{buscarProdutos(){this.$router.push({query:{q:this.busca}})}}}),E=O,S=(0,d.Z)(E,A,D,!1,null,"f77de65a",null),I=S.exports,L=function(){var t=this,o=t._self._c;return o("section",{staticClass:"produtos-container"},[o("transition",{attrs:{mode:"out-in"}},[t.produtos&&t.produtos.length?o("div",{key:"produtos",staticClass:"produtos"},[t._l(t.produtos,(function(r,e){return o("div",{key:e,staticClass:"produto"},[o("router-link",{attrs:{to:{name:"produto",params:{id:r.id}}}},[r.fotos?o("img",{attrs:{src:r.fotos[0].src,alt:r.fotos[0].titulo}}):t._e(),o("p",{staticClass:"preco"},[t._v(t._s(t._f("numeroPreco")(r.preco)))]),o("h2",{staticClass:"titulo"},[t._v(t._s(r.nome))]),o("p",[t._v(t._s(r.descricao))])])],1)})),o("ProdutosPaginar",{attrs:{produtosTotal:t.produtosTotal,produtosPorPagina:t.produtosPorPagina}})],2):t.produtos&&0===t.produtos.length?o("div",{key:"sem-resultados"},[o("p",{staticClass:"sem-resultados"},[t._v(" Busca sem resultados. Tente buscar outro termo. ")])]):o("PaginaCarregando",{key:"carregando"})],1)],1)},R=[],F=function(){var t=this,o=t._self._c;return t.paginasTotal>1?o("ul",t._l(t.paginas,(function(r){return o("li",{key:r},[o("router-link",{attrs:{to:{query:t.query(r)}}},[t._v(t._s(r))])],1)})),0):t._e()},V=[],j={props:{produtosPorPagina:{type:Number,default:1},produtosTotal:{type:Number,default:1}},methods:{query(t){return{...this.$route.query,_page:t}}},computed:{paginas(){const t=Number(this.$route.query._page),o=9,r=Math.ceil(o/2),e=this.paginasTotal,a=[];for(let s=1;s<=e;s++)a.push(s);return a.splice(0,t-r),a.splice(o,e),a},paginasTotal(){const t=this.produtosTotal/this.produtosPorPagina;return t!==1/0?Math.ceil(t):0}}},z=j,q=(0,d.Z)(z,F,V,!1,null,"41ead7be",null),B=q.exports;function H(t){let o="";for(let r in t)o+=`&${r}=${t[r]}`;return o}function G(t){const o={};for(let r=0;r<t.fields.length;r++){const e=[t.fields[r]];o[e]={get(){return this.$store.state[t.base][e]},set(o){this.$store.commit(t.mutation,{[e]:o})}}}return o}var M={name:"ProdutosLista",components:{ProdutosPaginar:B},data(){return{produtos:null,produtosPorPagina:9,produtosTotal:0}},computed:{url(){const t=H(this.$route.query);return`/produto?_limit=${this.produtosPorPagina}${t}`}},methods:{getProdutos(){this.produtos=null,w.get(this.url).then((t=>{this.produtosTotal=Number(t.headers["x-total-count"]),this.produtos=t.data}))}},watch:{url(){this.getProdutos()}},created(){this.getProdutos()}},J=M,K=(0,d.Z)(J,L,R,!1,null,"ba099c34",null),Q=K.exports,W={name:"HomeView",components:{ProdutosBuscarVue:I,ProdutosListaVue:Q}},X=W,Y=(0,d.Z)(X,Z,N,!1,null,"d3af05aa",null),tt=Y.exports,ot=function(){var t=this,o=t._self._c;return o("section",[t.produto?o("div",{staticClass:"produto"},[t.produto.fotos?o("ul",{staticClass:"fotos"},t._l(t.produto.fotos,(function(t,r){return o("li",{key:r},[o("img",{attrs:{src:t.src,alt:t.titulo}})])})),0):t._e(),o("div",{staticClass:"info"},[o("h1",[t._v(t._s(t.produto.nome))]),o("p",{staticClass:"preco"},[t._v(t._s(t._f("numeroPreco")(t.produto.preco)))]),o("p",{staticClass:"descricao"},[t._v(t._s(t.produto.descricao))]),"false"===t.produto.vendido?o("transition",{attrs:{mode:"out-in"}},[t.finalizar?o("FinalizarCompra",{attrs:{produto:t.produto}}):o("button",{staticClass:"btn",on:{click:function(o){t.finalizar=!0}}},[t._v(" Comprar ")])],1):o("button",{staticClass:"btn",attrs:{disabled:""}},[t._v("Produto Vendido")])],1)]):o("PaginaCarregando")],1)},rt=[],et=function(){var t=this,o=t._self._c;return o("section",[o("h2",[t._v("Endere√ßo de Envio")]),o("ErroNotificacao",{attrs:{erros:t.erros}}),o("UsuarioForm",[o("button",{staticClass:"btn",on:{click:function(o){return o.preventDefault(),t.finalizarCompra.apply(null,arguments)}}},[t._v(" Finalizar Compra ")])])],1)},at=[],st=function(){var t=this,o=t._self._c;return o("form",[t.mostrarDadosLogin?o("div",{staticClass:"usuario"},[o("label",{attrs:{for:"nome"}},[t._v("Nome")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.nome,expression:"nome"}],attrs:{id:"nome",name:"nome",type:"text"},domProps:{value:t.nome},on:{input:function(o){o.target.composing||(t.nome=o.target.value)}}}),o("label",{attrs:{for:"email"}},[t._v("Email")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{id:"email",name:"email",type:"email"},domProps:{value:t.email},on:{input:function(o){o.target.composing||(t.email=o.target.value)}}}),o("label",{attrs:{for:"senha"}},[t._v("Senha")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.senha,expression:"senha"}],attrs:{id:"senha",name:"senha",type:"password"},domProps:{value:t.senha},on:{input:function(o){o.target.composing||(t.senha=o.target.value)}}})]):t._e(),o("label",{attrs:{for:"cep"}},[t._v("Cep")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.cep,expression:"cep"}],attrs:{id:"cep",name:"cep",type:"text"},domProps:{value:t.cep},on:{keyup:t.preencherCep,input:function(o){o.target.composing||(t.cep=o.target.value)}}}),o("label",{attrs:{for:"rua"}},[t._v("Rua")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.rua,expression:"rua"}],attrs:{id:"rua",name:"rua",type:"text"},domProps:{value:t.rua},on:{input:function(o){o.target.composing||(t.rua=o.target.value)}}}),o("label",{attrs:{for:"numero"}},[t._v("Numero")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.numero,expression:"numero"}],attrs:{id:"numero",name:"numero",type:"text"},domProps:{value:t.numero},on:{input:function(o){o.target.composing||(t.numero=o.target.value)}}}),o("label",{attrs:{for:"bairro"}},[t._v("Bairro")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.bairro,expression:"bairro"}],attrs:{id:"bairro",name:"bairro",type:"text"},domProps:{value:t.bairro},on:{input:function(o){o.target.composing||(t.bairro=o.target.value)}}}),o("label",{attrs:{for:"cidade"}},[t._v("Cidade")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.cidade,expression:"cidade"}],attrs:{id:"cidade",name:"cidade",type:"text"},domProps:{value:t.cidade},on:{input:function(o){o.target.composing||(t.cidade=o.target.value)}}}),o("label",{attrs:{for:"estado"}},[t._v("Estado")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.estado,expression:"estado"}],attrs:{id:"estado",name:"estado",type:"text"},domProps:{value:t.estado},on:{input:function(o){o.target.composing||(t.estado=o.target.value)}}}),o("div",{staticClass:"button"},[t._t("default")],2)])},nt=[],it={computed:{...G({fields:["nome","email","senha","rua","cep","numero","bairro","cidade","estado"],base:"usuario",mutation:"UPDATE_USUARIO"}),mostrarDadosLogin(){return!this.$store.state.login||"usuario-editar"===this.$route.name}},methods:{preencherCep(){const t=this.cep.replace(/\D/g,"");8===t.length&&U(t).then((t=>{this.rua=t.data.logradouro,this.bairro=t.data.bairro,this.estado=t.data.uf,this.cidade=t.data.localidade}))}}},ut=it,lt=(0,d.Z)(ut,st,nt,!1,null,"1ecdad18",null),dt=lt.exports,ct=r(629),pt={name:"FinalizarCompra",components:{UsuarioForm:dt},props:["produto"],data(){return{erros:[]}},computed:{...(0,ct.rn)(["usuario"]),compra(){return{comprador_id:this.usuario.email,vendedor_id:this.produto.usuario_id,produto:this.produto,endereco:{cep:this.usuario.cep,rua:this.usuario.rua,numero:this.usuario.numero,bairro:this.usuario.bairro,cidade:this.usuario.cidade,estado:this.usuario.estado}}}},methods:{criarTransacao(){return w.post("/transacao",this.compra).then((()=>{this.$router.push({name:"compras"})}))},async criarUsuario(){try{await this.$store.dispatch("criarUsuario",this.$store.state.usuario),await this.$store.dispatch("logarUsuario",this.$store.state.usuario),await this.$store.dispatch("getUsuario"),await this.criarTransacao()}catch(t){this.erros.push(t.response.data.message)}},finalizarCompra(){this.erros=[],this.$store.state.login?this.criarTransacao():this.criarUsuario()}}},mt=pt,ht=(0,d.Z)(mt,et,at,!1,null,"320906f8",null),vt=ht.exports,ft={name:"ProdutoView",props:["id"],components:{FinalizarCompra:vt},data(){return{produto:null,finalizar:!1}},methods:{getProduto(){w.get(`/produto/${this.id}`).then((t=>{this.produto=t.data}))}},created(){this.getProduto()}},gt=ft,_t=(0,d.Z)(gt,ot,rt,!1,null,"67152825",null),Pt=_t.exports,bt=function(){var t=this,o=t._self._c;return o("section",{staticClass:"login"},[o("h1",[t._v("Login")]),o("form",[o("label",{attrs:{for:"email"}},[t._v("Email")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.login.email,expression:"login.email"}],attrs:{type:"email",name:"email",id:"email"},domProps:{value:t.login.email},on:{input:function(o){o.target.composing||t.$set(t.login,"email",o.target.value)}}}),o("label",{attrs:{for:"senha"}},[t._v("Senha")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.login.senha,expression:"login.senha"}],attrs:{type:"password",name:"senha",id:"senha"},domProps:{value:t.login.senha},on:{input:function(o){o.target.composing||t.$set(t.login,"senha",o.target.value)}}}),o("button",{staticClass:"btn",on:{click:function(o){return o.preventDefault(),t.logar.apply(null,arguments)}}},[t._v("Logar")]),o("ErroNotificacao",{attrs:{erros:t.erros}})],1),t._m(0),o("LoginCriar")],1)},Ct=[function(){var t=this,o=t._self._c;return o("p",{staticClass:"perdeu"},[o("a",{attrs:{href:"http://localhost/ranekpress/wp-login.php?action=lostpassword",target:"_blank"}},[t._v("Perdeu a senha? Clique aqui.")])])}],wt=function(){var t=this,o=t._self._c;return o("section",[o("h2",[t._v("Crie a Sua Conta")]),o("ErroNotificacao",{attrs:{erros:t.erros}}),o("transition",{attrs:{mode:"out-in"}},[t.criar?o("UsuarioForm",[o("button",{staticClass:"btn btn-form",on:{click:function(o){return o.preventDefault(),t.criarUsuario.apply(null,arguments)}}},[t._v(" Criar Usu√°rio ")])]):o("button",{staticClass:"btn",on:{click:function(o){t.criar=!0}}},[t._v(" Criar Conta ")])],1)],1)},Ut=[],yt={name:"LoginCriar",components:{UsuarioForm:dt},data(){return{criar:!1,erros:[]}},methods:{async criarUsuario(){this.erros=[];try{await this.$store.dispatch("criarUsuario",this.$store.state.usuario),await this.$store.dispatch("logarUsuario",this.$store.state.usuario),await this.$store.dispatch("getUsuario"),this.$router.push({name:"usuario"})}catch(t){this.erros.push(t.response.data.message)}}}},kt=yt,xt=(0,d.Z)(kt,wt,Ut,!1,null,"73c5cf55",null),$t=xt.exports,Tt={name:"LoginView",components:{LoginCriar:$t},data(){return{login:{email:"",senha:""},erros:[]}},methods:{logar(){this.erros=[],this.$store.dispatch("logarUsuario",this.login).then((()=>{this.$store.dispatch("getUsuario"),this.$router.push({name:"usuario"})})).catch((t=>{this.erros.push(t.response.data.message)}))}}},Zt=Tt,Nt=(0,d.Z)(Zt,bt,Ct,!1,null,"45d43451",null),At=Nt.exports,Dt=function(){var t=this,o=t._self._c;return o("section",{staticClass:"usuario"},[o("nav",{staticClass:"sidenav"},[o("ul",[o("li",[o("router-link",{attrs:{to:{name:"usuario"}}},[t._v("Produtos")])],1),o("li",[o("router-link",{attrs:{to:{name:"compras"}}},[t._v("Compras")])],1),o("li",[o("router-link",{attrs:{to:{name:"vendas"}}},[t._v("Vendas")])],1),o("li",[o("router-link",{attrs:{to:{name:"usuario-editar"}}},[t._v("Editar Usu√°rio")])],1),o("li",[o("button",{on:{click:function(o){return o.preventDefault(),t.deslogar.apply(null,arguments)}}},[t._v("Deslogar")])])])]),o("transition",{attrs:{mode:"out-in"}},[o("router-view")],1)],1)},Ot=[],Et={name:"UsuarioView",methods:{deslogar(){this.$store.dispatch("deslogarUsuario"),this.$router.push("/login")}}},St=Et,It=(0,d.Z)(St,Dt,Ot,!1,null,"1335cec0",null),Lt=It.exports,Rt=function(){var t=this,o=t._self._c;return o("section",[o("h2",[t._v("Adicionar Produto")]),o("ProdutoAdicionar"),o("h2",[t._v("Seus Produtos")]),t.usuario_produtos?o("transition-group",{attrs:{name:"list",tag:"ul"}},t._l(t.usuario_produtos,(function(r,e){return o("li",{key:e},[o("ProdutoItem",{attrs:{produto:r}},[o("p",[t._v(t._s(r.descricao))]),o("button",{staticClass:"deletar",on:{click:function(o){return t.deletarProduto(r.id)}}},[t._v(" Deletar ")])])],1)})),0):t._e()],1)},Ft=[],Vt=function(){var t=this,o=t._self._c;return o("form",{staticClass:"adicionar-produto"},[o("label",{attrs:{for:"nome"}},[t._v("Nome")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.produto.nome,expression:"produto.nome"}],attrs:{id:"nome",name:"nome",type:"text"},domProps:{value:t.produto.nome},on:{input:function(o){o.target.composing||t.$set(t.produto,"nome",o.target.value)}}}),o("label",{attrs:{for:"preco"}},[t._v("Pre√ßo (R$)")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.produto.preco,expression:"produto.preco"}],attrs:{id:"preco",name:"preco",type:"number"},domProps:{value:t.produto.preco},on:{input:function(o){o.target.composing||t.$set(t.produto,"preco",o.target.value)}}}),o("label",{attrs:{for:"fotos"}},[t._v("Fotos")]),o("input",{ref:"fotos",attrs:{id:"fotos",name:"fotos",type:"file",multiple:""}}),o("label",{attrs:{for:"preco"}},[t._v("Descri√ß√£o")]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.produto.descricao,expression:"produto.descricao"}],attrs:{id:"preco",name:"preco"},domProps:{value:t.produto.descricao},on:{input:function(o){o.target.composing||t.$set(t.produto,"descricao",o.target.value)}}}),o("input",{staticClass:"btn",attrs:{type:"button",value:"Adicionar Produto"},on:{click:function(o){return o.preventDefault(),t.adicionarProduto.apply(null,arguments)}}})])},jt=[],zt={name:"ProdutoAdicionar",data(){return{produto:{nome:"",preco:"",descricao:"",fotos:null,vendido:"false"}}},methods:{formatarProduto(){const t=new FormData,o=this.$refs.fotos.files;for(let r=0;r<o.length;r++)t.append(o[r].name,o[r]);return t.append("nome",this.produto.nome),t.append("preco",this.produto.preco),t.append("descricao",this.produto.descricao),t.append("vendido",this.produto.vendido),t.append("usuario_id",this.$store.state.usuario.id),t},async adicionarProduto(t){const o=this.formatarProduto(),r=t.currentTarget;r.value="Adicionando ...",r.setAttribute("disabled",""),await w.post("/produto",o),await this.$store.dispatch("getUsuarioProdutos"),r.removeAttribute("disabled"),r.value="Adicionar Produto"}}},qt=zt,Bt=(0,d.Z)(qt,Vt,jt,!1,null,"079ea7e4",null),Ht=Bt.exports,Gt=function(){var t=this,o=t._self._c;return t.produto?o("div",{staticClass:"produto"},[o("router-link",{staticClass:"produto-img",attrs:{to:{name:"produto",params:{id:t.produto.id}}}},[t.produto.fotos?o("img",{attrs:{src:t.produto.fotos[0].src,alt:t.produto.fotos[0].titulo}}):t._e()]),o("div",{staticClass:"info"},[o("p",{staticClass:"preco"},[t._v(t._s(t._f("numeroPreco")(t.produto.preco)))]),o("h2",{staticClass:"titulo"},[t._v(t._s(t.produto.nome))]),t._t("default")],2)],1):t._e()},Mt=[],Jt={name:"ProdutoItem",props:["produto"]},Kt=Jt,Qt=(0,d.Z)(Kt,Gt,Mt,!1,null,"5201cd13",null),Wt=Qt.exports,Xt={name:"UsuarioProdutos",components:{ProdutoAdicionar:Ht,ProdutoItem:Wt},computed:{...(0,ct.rn)(["login","usuario","usuario_produtos"])},methods:{...(0,ct.nv)(["getUsuarioProdutos"]),deletarProduto(t){const o=window.confirm("Deseja remover este produto?");o&&w["delete"](`/produto/${t}`).then((()=>{this.getUsuarioProdutos()})).catch((t=>{console.log(t.reponse)}))}},watch:{login(){this.getUsuarioProdutos()}},created(){this.login&&this.getUsuarioProdutos()}},Yt=Xt,to=(0,d.Z)(Yt,Rt,Ft,!1,null,"69cb8f21",null),oo=to.exports,ro=function(){var t=this,o=t._self._c;return o("section",[t.vendas?o("div",[o("h2",[t._v("Vendas")]),t._l(t.vendas,(function(r,e){return o("div",{key:e,staticClass:"produtos-wrapper"},[r.produto?o("ProdutoItem",{attrs:{produto:r.produto}},[o("p",{staticClass:"vendedor"},[o("span",[t._v("Comprador:")]),t._v(" "+t._s(r.comprador_id)+" ")])]):t._e(),o("div",{staticClass:"entrega"},[o("h3",[t._v("Entrega:")]),r.endereco?o("ul",t._l(r.endereco,(function(r,e){return o("li",{key:e},[t._v(" "+t._s(e)+": "+t._s(r)+" ")])})),0):t._e()])],1)}))],2):o("pagina-carregando")],1)},eo=[],ao={components:{ProdutoItem:Wt},data(){return{vendas:null}},computed:{...(0,ct.rn)(["usuario","login"])},methods:{getVendas(){w.get("/transacao?tipo=vendedor_id").then((t=>{this.vendas=t.data}))}},watch:{login(){this.getVendas()}},created(){this.login&&this.getVendas()}},so=ao,no=(0,d.Z)(so,ro,eo,!1,null,"4bde4d63",null),io=no.exports,uo=function(){var t=this,o=t._self._c;return o("section",[t.compras?o("div",[o("h2",[t._v("Compras")]),t._l(t.compras,(function(r,e){return o("div",{key:e,staticClass:"produtos-wrapper"},[r.produto?o("ProdutoItem",{attrs:{produto:r.produto}},[o("p",{staticClass:"vendedor"},[o("span",[t._v("Vendedor:")]),t._v(" "+t._s(r.vendedor_id)+" ")])]):t._e()],1)}))],2):o("pagina-carregando")],1)},lo=[],co=function(){var t=this;t._self._c;return t._m(0)},po=[function(){var t=this,o=t._self._c;return o("div",{staticClass:"loading"},[o("span"),o("span"),o("span"),o("span")])}],mo={name:"PageLoading"},ho=mo,vo=(0,d.Z)(ho,co,po,!1,null,"6df5a318",null),fo=vo.exports,go={components:{ProdutoItem:Wt,PaginaCarregando:fo},data(){return{compras:null}},computed:{...(0,ct.rn)(["usuario","login"])},methods:{getCompras(){w.get("/transacao?tipo=comprador_id").then((t=>{this.compras=t.data}))}},watch:{login(){this.getCompras()}},created(){this.login&&this.getCompras()}},_o=go,Po=(0,d.Z)(_o,uo,lo,!1,null,"5c73c5f8",null),bo=Po.exports,Co=function(){var t=this,o=t._self._c;return o("section",[o("UsuarioForm",[o("button",{staticClass:"btn",on:{click:function(o){return o.preventDefault(),t.atualizarUsuario.apply(null,arguments)}}},[t._v(" Atualizar Usu√°rio ")])]),o("ErroNotificacao",{attrs:{erros:t.erros}})],1)},wo=[],Uo={name:"UsuarioEditar",components:{UsuarioForm:dt},data(){return{erros:[]}},methods:{atualizarUsuario(){this.erros=[],w.put("/usuario",this.$store.state.usuario).then((()=>{this.$store.dispatch("getUsuario"),this.$router.push({name:"usuario"})})).catch((t=>{this.erros.push(t.response.data.message)}))}}},yo=Uo,ko=(0,d.Z)(yo,Co,wo,!1,null,null,null),xo=ko.exports;e.ZP.use(T.ZP);const $o=[{path:"/",name:"home",component:tt},{path:"/produto/:id",name:"produto",component:Pt,props:!0},{path:"/login",name:"login",component:At},{path:"/usuario",component:Lt,meta:{login:!0},children:[{path:"",name:"usuario",component:oo},{path:"vendas",name:"vendas",component:io},{path:"compras",name:"compras",component:bo},{path:"editar",name:"usuario-editar",component:xo}]}],To=new T.ZP({mode:"history",base:"vue/",routes:$o,scrollBehavior(){return window.scrollTo({top:0,behavior:"smooth"})}});To.beforeEach(((t,o,r)=>{t.matched.some((t=>t.meta.login))?window.localStorage.token?r():r("/login"):r()}));var Zo=To;e.ZP.use(ct.ZP);var No=new ct.ZP.Store({strict:!0,state:{login:!1,usuario:{id:"",nome:"",email:"",senha:"",cep:"",rua:"",numero:"",bairro:"",cidade:"",estado:""},usuario_produtos:null},mutations:{UPDATE_LOGIN(t,o){t.login=o},UPDATE_USUARIO(t,o){t.usuario=Object.assign(t.usuario,o)},UPDATE_USUARIO_PRODUTOS(t,o){t.usuario_produtos=o},ADD_USUARIO_PRODUTOS(t,o){t.usuario_produtos.unshit(o)}},actions:{getUsuarioProdutos(t){w.get(`/produto?usuario_id=${t.state.usuario.id}`).then((o=>{t.commit("UPDATE_USUARIO_PRODUTOS",o.data)}))},getUsuario(t){return w.get("/usuario").then((o=>{t.commit("UPDATE_USUARIO",o.data),t.commit("UPDATE_LOGIN",!0)}))},criarUsuario(t,o){return t.commit("UPDATE_USUARIO",{id:o.email}),w.post("/usuario",o)},logarUsuario(t,o){return w.login({username:o.email,password:o.senha}).then((t=>{window.localStorage.token=`Bearer ${t.data.token}`}))},deslogarUsuario(t){t.commit("UPDATE_USUARIO",{id:"",nome:"",email:"",senha:"",cep:"",rua:"",numero:"",bairro:"",cidade:"",estado:""}),window.localStorage.removeItem("token"),t.commit("UPDATE_LOGIN",!1)}}}),Ao=function(){var t=this,o=t._self._c;return o("transition",[t.erros.length>0?o("ul",{staticClass:"erro"},t._l(t.erros,(function(r,e){return o("li",{key:e,domProps:{innerHTML:t._s(r)}})})),0):t._e()])},Do=[],Oo={name:"ErroNotificacao",props:{erros:Array}},Eo=Oo,So=(0,d.Z)(Eo,Ao,Do,!1,null,"34844107",null),Io=So.exports;e.ZP.config.productionTip=!1,e.ZP.component("PaginaCarregando",fo),e.ZP.component("ErroNotificacao",Io),e.ZP.filter("numeroPreco",(t=>(t=Number(t),isNaN(t)?"":t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))),new e.ZP({router:Zo,store:No,render:t=>t($)}).$mount("#app")},8699:function(t,o,r){t.exports=r.p+"img/ranek.31a789c6.svg"}},o={};function r(e){var a=o[e];if(void 0!==a)return a.exports;var s=o[e]={exports:{}};return t[e](s,s.exports,r),s.exports}r.m=t,function(){var t=[];r.O=function(o,e,a,s){if(!e){var n=1/0;for(d=0;d<t.length;d++){e=t[d][0],a=t[d][1],s=t[d][2];for(var i=!0,u=0;u<e.length;u++)(!1&s||n>=s)&&Object.keys(r.O).every((function(t){return r.O[t](e[u])}))?e.splice(u--,1):(i=!1,s<n&&(n=s));if(i){t.splice(d--,1);var l=a();void 0!==l&&(o=l)}}return o}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[e,a,s]}}(),function(){r.d=function(t,o){for(var e in o)r.o(o,e)&&!r.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:o[e]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}}(),function(){r.p="vue/"}(),function(){var t={143:0};r.O.j=function(o){return 0===t[o]};var o=function(o,e){var a,s,n=e[0],i=e[1],u=e[2],l=0;if(n.some((function(o){return 0!==t[o]}))){for(a in i)r.o(i,a)&&(r.m[a]=i[a]);if(u)var d=u(r)}for(o&&o(e);l<n.length;l++)s=n[l],r.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return r.O(d)},e=self["webpackChunkranek"]=self["webpackChunkranek"]||[];e.forEach(o.bind(null,0)),e.push=o.bind(null,e.push.bind(e))}();var e=r.O(void 0,[998],(function(){return r(6775)}));e=r.O(e)})();
//# sourceMappingURL=app.985dd3e2.js.map